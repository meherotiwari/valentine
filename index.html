<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Valentine?</title>
  <style>
    :root {
      --bg1: #ffe6ef;
      --bg2: #fff7fb;
      --text: #3a0b1a;
      --accent: #ff2d55;
      --accent2: #ff5a7a;
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; margin: 0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }

    body {
      overflow: hidden;
      background: radial-gradient(circle at top, var(--bg2), var(--bg1));
      color: var(--text);
      user-select: none;
      -webkit-tap-highlight-color: transparent;
    }

    .center {
      position: absolute;
      inset: 0;
      display: grid;
      place-items: center;
      padding: 24px;
      text-align: center;
      z-index: 1;
    }

    .card {
      background: rgba(255,255,255,0.7);
      border: 1px solid rgba(255, 45, 85, 0.18);
      backdrop-filter: blur(8px);
      border-radius: 22px;
      padding: 28px 22px;
      max-width: 560px;
      width: min(560px, 92vw);
      box-shadow: 0 18px 60px rgba(58, 11, 26, 0.12);
    }

    h1 {
      margin: 0 0 12px;
      font-size: clamp(26px, 4.2vw, 42px);
      letter-spacing: 0.2px;
    }

    p {
      margin: 0;
      opacity: 0.85;
      font-size: clamp(14px, 2.2vw, 18px);
    }

    /* The runaway button */
    #yesBtn {
      position: absolute;
      left: 50%;
      top: 68%;
      transform: translate(-50%, -50%);
      z-index: 2;

      border: none;
      border-radius: 999px;
      padding: 14px 22px;
      font-weight: 700;
      font-size: 18px;
      color: white;
      cursor: pointer;

      background: linear-gradient(135deg, var(--accent), var(--accent2));
      box-shadow: 0 12px 30px rgba(255, 45, 85, 0.35);
    }

    #yesBtn:active { transform: translate(-50%, -50%) scale(0.98); }

    /* Win overlay */
    #win {
      position: absolute;
      inset: 0;
      display: none;
      place-items: center;
      text-align: center;
      z-index: 5;
      background: radial-gradient(circle at top, #fff, #ffe6ef);
    }

    #win .winCard {
      background: rgba(255,255,255,0.82);
      border: 1px solid rgba(255, 45, 85, 0.22);
      backdrop-filter: blur(8px);
      border-radius: 22px;
      padding: 28px 22px;
      width: min(640px, 92vw);
      box-shadow: 0 18px 60px rgba(58, 11, 26, 0.12);
      position: relative;
      overflow: hidden;
    }

    #win h2 {
      margin: 0 0 8px;
      font-size: clamp(24px, 4.2vw, 40px);
      color: #b3002d;
    }

    #win p {
      margin: 0;
      font-size: clamp(14px, 2.3vw, 18px);
    }

    /* Flower layer */
    #flowers {
      position: absolute;
      inset: 0;
      pointer-events: none;
      overflow: hidden;
      z-index: 4;
      display: none;
    }

    .flower {
      position: absolute;
      font-size: 28px;
      filter: drop-shadow(0 6px 8px rgba(58, 11, 26, 0.18));
      opacity: 0.95;
      animation: floatUp linear forwards;
      will-change: transform, opacity;
    }

    @keyframes floatUp {
      0%   { transform: translateY(30px) rotate(0deg) scale(0.9); opacity: 0; }
      10%  { opacity: 1; }
      100% { transform: translateY(-120vh) rotate(360deg) scale(1.15); opacity: 0; }
    }

    /* Small hint */
    .hint {
      margin-top: 14px;
      font-size: 12px;
      opacity: 0.6;
    }
  </style>
</head>
<body>
  <div class="center">
    <div class="card">
      <h1>Will you be my valentine? üíò</h1>
      <p>Try to catch the ‚ÄúYes‚Äù button üòÑ</p>
      <div class="hint">(Tip: it‚Äôs easier on a bigger screen‚Ä¶ or with quick thumbs!)</div>
    </div>
  </div>

  <button id="yesBtn" aria-label="Yes button">Yes</button>

  <div id="flowers"></div>

  <div id="win">
    <div class="winCard">
      <h2>Congratulations on being my valentine üåπ</h2>
      <p>Love you ‚ù§Ô∏è</p>
    </div>
  </div>

  <script>
    const btn = document.getElementById("yesBtn");
    const win = document.getElementById("win");
    const flowers = document.getElementById("flowers");

    // Motion state (px/sec)
    let x = 0, y = 0;
    let vx = 420, vy = 320; // initial speed
    let lastT = performance.now();
    let running = true;

    // Place button initially within bounds
    function placeInitial() {
      const { w, h } = getBounds();
      x = w * 0.5;
      y = h * 0.68;
      setBtnPos();
    }

    function getBounds() {
      const bw = btn.offsetWidth;
      const bh = btn.offsetHeight;
      return {
        w: window.innerWidth - bw,
        h: window.innerHeight - bh,
        bw, bh
      };
    }

    function setBtnPos() {
      // translate so (x,y) is the button's top-left
      btn.style.left = x + "px";
      btn.style.top = y + "px";
      btn.style.transform = "translate(0, 0)";
    }

    function tick(t) {
      if (!running) return;

      const dt = Math.min(0.033, (t - lastT) / 1000);
      lastT = t;

      const b = getBounds();

      x += vx * dt;
      y += vy * dt;

      // Bounce off edges
      if (x <= 0) { x = 0; vx = Math.abs(vx); }
      if (x >= b.w) { x = b.w; vx = -Math.abs(vx); }
      if (y <= 0) { y = 0; vy = Math.abs(vy); }
      if (y >= b.h) { y = b.h; vy = -Math.abs(vy); }

      setBtnPos();
      requestAnimationFrame(tick);
    }

    // Make it "run away" on hover/touch by boosting speed + random nudge
    function flee() {
      if (!running) return;

      // Increase speed a bit each time (capped)
      const speed = Math.hypot(vx, vy);
      const boost = Math.min(1.25, 700 / Math.max(speed, 1));
      vx *= boost;
      vy *= boost;

      // Random direction nudge
      const angle = Math.random() * Math.PI * 2;
      vx += Math.cos(angle) * 220;
      vy += Math.sin(angle) * 220;

      // Cap overall speed
      const cap = 1100;
      const newSpeed = Math.hypot(vx, vy);
      if (newSpeed > cap) {
        vx = (vx / newSpeed) * cap;
        vy = (vy / newSpeed) * cap;
      }
    }

    // Desktop hover
    btn.addEventListener("mouseenter", flee);

    // Mobile touch: on touchstart, it flees immediately (but still tappable if you nail it)
    btn.addEventListener("touchstart", (e) => {
      // Don't block click; just make it flee
      flee();
    }, { passive: true });

    // Win
    btn.addEventListener("click", () => {
      running = false;
      btn.style.display = "none";
      win.style.display = "grid";
      flowers.style.display = "block";
      spawnFlowers();
    });

    // Flowers üåπ (emoji-based)
    const flowerEmojis = ["üåπ","üå∫","üå∑","üíê","‚ù§Ô∏è","üå∏"];
    function spawnOneFlower() {
      const el = document.createElement("div");
      el.className = "flower";
      el.textContent = flowerEmojis[Math.floor(Math.random() * flowerEmojis.length)];

      const startX = Math.random() * window.innerWidth;
      const startY = window.innerHeight + 40;

      el.style.left = startX + "px";
      el.style.top = startY + "px";

      const dur = 3 + Math.random() * 2.5; // 3‚Äì5.5s
      el.style.animationDuration = dur + "s";

      const size = 22 + Math.random() * 22;
      el.style.fontSize = size + "px";

      flowers.appendChild(el);
      el.addEventListener("animationend", () => el.remove());
    }

    function spawnFlowers() {
      // burst + continuous stream
      for (let i = 0; i < 40; i++) setTimeout(spawnOneFlower, i * 40);
      const interval = setInterval(() => {
        if (win.style.display !== "grid") return;
        for (let i = 0; i < 6; i++) spawnOneFlower();
      }, 380);

      // stop after a while (still looks great)
      setTimeout(() => clearInterval(interval), 12000);
    }

    // Handle resize nicely
    window.addEventListener("resize", () => {
      const b = getBounds();
      x = Math.max(0, Math.min(x, b.w));
      y = Math.max(0, Math.min(y, b.h));
      setBtnPos();
    });

    // Start
    placeInitial();
    // Convert initial transform centering into explicit top-left coordinates:
    // We'll place using top-left, so adjust after layout
    requestAnimationFrame(() => {
      // center placement: shift by half button size
      x = (window.innerWidth - btn.offsetWidth) * 0.5;
      y = (window.innerHeight - btn.offsetHeight) * 0.68;
      setBtnPos();
      lastT = performance.now();
      requestAnimationFrame(tick);
    });
  </script>
</body>
</html>
